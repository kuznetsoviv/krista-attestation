<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="631px" preserveAspectRatio="none" style="width:581px;height:631px;" version="1.1" viewBox="0 0 581 631" width="581px" zoomAndPan="magnify"><defs><filter height="300%" id="f16r1rg18oo5j4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFE4B5" height="32.6406" rx="7" ry="7" style="stroke: #FF0000; stroke-width: 1.5;" width="558" x="12" y="12"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="542" x="20" y="35.6855">Алгоритм выполнения контролей по данным консолидации</text><ellipse cx="364" cy="57.6406" fill="#000000" filter="url(#f16r1rg18oo5j4)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><path d="M127.5,128.4883 L127.5,187.543 A0,0 0 0 0 127.5,187.543 L235.5,187.543 A0,0 0 0 0 235.5,187.543 L235.5,162.0156 L255.5,158.0156 L235.5,154.0156 L235.5,138.4883 L225.5,128.4883 L127.5,128.4883 A0,0 0 0 0 127.5,128.4883 " fill="#FBFB77" filter="url(#f16r1rg18oo5j4)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M225.5,128.4883 L225.5,138.4883 L235.5,138.4883 L225.5,128.4883 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="133.5" y="146.9834">http-запросы,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="133.5" y="163.335">с указанными</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="133.5" y="179.6865">параметрами</text><rect fill="#FEFECE" filter="url(#f16r1rg18oo5j4)" height="140.75" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="217" x="255.5" y="87.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="197" x="265.5" y="110.0977">Получение отчета по параметрам:</text><ellipse cx="271" cy="120.3281" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="169" x="276.5" y="125.1914">uuid задачи сбора отчетности</text><ellipse cx="271" cy="135.4219" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="276.5" y="140.2852">код отчетности</text><ellipse cx="271" cy="150.5156" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="147" x="276.5" y="155.3789">роль субъекта отчетности</text><ellipse cx="271" cy="165.6094" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="276.5" y="170.4727">статус отчетности</text><ellipse cx="271" cy="180.7031" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="21" x="276.5" y="185.5664">инн</text><ellipse cx="271" cy="195.7969" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="20" x="276.5" y="200.6602">кпп</text><ellipse cx="271" cy="210.8906" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="276.5" y="215.7539">бюджет</text><path d="M49,238.3906 L49,313.7969 A0,0 0 0 0 49,313.7969 L194,313.7969 A0,0 0 0 0 194,313.7969 L194,280.0938 L214,276.0938 L194,272.0938 L194,248.3906 L184,238.3906 L49,238.3906 A0,0 0 0 0 49,238.3906 " fill="#FBFB77" filter="url(#f16r1rg18oo5j4)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M184,238.3906 L184,248.3906 L194,248.3906 L184,238.3906 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="55" y="256.8857">Используются</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="55" y="273.2373">xpath-выражения,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="55" y="289.5889">указанные в</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="55" y="305.9404">настройках контроля</text><rect fill="#FEFECE" filter="url(#f16r1rg18oo5j4)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="300" x="214" y="258.5469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="280" x="224" y="281.0039">Преобразование отчета в формат планирования</text><path d="M102.5,323.7969 L102.5,382.8516 A0,0 0 0 0 102.5,382.8516 L256.5,382.8516 A0,0 0 0 0 256.5,382.8516 L256.5,357.3242 L276.5,353.3242 L256.5,349.3242 L256.5,333.7969 L246.5,323.7969 L102.5,323.7969 A0,0 0 0 0 102.5,323.7969 " fill="#FBFB77" filter="url(#f16r1rg18oo5j4)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M246.5,323.7969 L246.5,333.7969 L256.5,333.7969 L246.5,323.7969 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="108.5" y="342.292">Используется фильтр,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="108.5" y="358.6436">указанный в</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="108.5" y="374.9951">настройках контроля</text><rect fill="#FEFECE" filter="url(#f16r1rg18oo5j4)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="175" x="276.5" y="335.7773"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="155" x="286.5" y="358.2344">Фильтрация данных отчета</text><rect fill="#FEFECE" filter="url(#f16r1rg18oo5j4)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="221" x="253.5" y="402.8516"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="201" x="263.5" y="425.3086">Фильтрация данных планирования</text><rect fill="#FEFECE" filter="url(#f16r1rg18oo5j4)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="342" x="193" y="457.9453"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="322" x="203" y="480.4023">Сравнение сумм данных планирования и консолидации</text><path d="M170.5,503.0391 L170.5,578.4453 A0,0 0 0 0 170.5,578.4453 L282.5,578.4453 A0,0 0 0 0 282.5,578.4453 L282.5,544.7422 L302.5,540.7422 L282.5,536.7422 L282.5,513.0391 L272.5,503.0391 L170.5,503.0391 A0,0 0 0 0 170.5,503.0391 " fill="#FBFB77" filter="url(#f16r1rg18oo5j4)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M272.5,503.0391 L272.5,513.0391 L282.5,513.0391 L272.5,503.0391 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="176.5" y="521.5342">html-таблица</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="176.5" y="537.8857">со списком</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="176.5" y="554.2373">классификации</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="176.5" y="570.5889">и сумм</text><rect fill="#FEFECE" filter="url(#f16r1rg18oo5j4)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="302.5" y="523.1953"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="312.5" y="545.6523">Вывод результата</text><ellipse cx="364" cy="609.4453" fill="#FFFFFF" filter="url(#f16r1rg18oo5j4)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="364" cy="609.4453" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="364" x2="364" y1="67.6406" y2="87.6406"/><polygon fill="#A80036" points="360,77.6406,364,87.6406,368,77.6406,364,81.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="364" x2="364" y1="228.3906" y2="258.5469"/><polygon fill="#A80036" points="360,248.5469,364,258.5469,368,248.5469,364,252.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="364" x2="364" y1="293.6406" y2="335.7773"/><polygon fill="#A80036" points="360,325.7773,364,335.7773,368,325.7773,364,329.7773" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="364" x2="364" y1="370.8711" y2="402.8516"/><polygon fill="#A80036" points="360,392.8516,364,402.8516,368,392.8516,364,396.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="364" x2="364" y1="437.9453" y2="457.9453"/><polygon fill="#A80036" points="360,447.9453,364,457.9453,368,447.9453,364,451.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="364" x2="364" y1="493.0391" y2="523.1953"/><polygon fill="#A80036" points="360,513.1953,364,523.1953,368,513.1953,364,517.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="364" x2="364" y1="558.2891" y2="598.4453"/><polygon fill="#A80036" points="360,588.4453,364,598.4453,368,588.4453,364,592.4453" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
start
skinparam titleBorderRoundCorner 14
skinparam titleBorderColor red
skinparam titleBackgroundColor Moccasin
title **Алгоритм выполнения контролей по данным консолидации**
:Получение отчета по параметрам:
*uuid задачи сбора отчетности
*код отчетности
*роль субъекта отчетности
*статус отчетности
*инн
*кпп
*бюджет;
note left
http-запросы, 
с указанными 
параметрами
end note
:Преобразование отчета в формат планирования;
note left
Используются 
xpath-выражения,
указанные в 
настройках контроля
end note
:Фильтрация данных отчета;
note left
Используется фильтр,
указанный в 
настройках контроля
end note
:Фильтрация данных планирования;
:Сравнение сумм данных планирования и консолидации;
:Вывод результата;
note left
html-таблица
со списком 
классификации
и сумм
end note
stop
@enduml

PlantUML version 1.2019.06(Fri May 24 20:10:25 MSK 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_241-b07
Operating System: Windows 10
OS Version: 10.0
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>