<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="809px" preserveAspectRatio="none" style="width:475px;height:809px;" version="1.1" viewBox="0 0 475 809" width="475px" zoomAndPan="magnify"><defs><filter height="300%" id="fp3fr8eu9s207" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFE4B5" height="32.6406" rx="7" ry="7" style="stroke: #FF0000; stroke-width: 1.5;" width="306" x="83" y="12"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="290" x="91" y="35.6855">Алгоритм синхронизации с НСИ</text><ellipse cx="247.5" cy="57.6406" fill="#000000" filter="url(#fp3fr8eu9s207)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fp3fr8eu9s207)" height="95.4688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="302" x="96.5" y="87.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="249" x="106.5" y="110.0977">Формирование параметров синхронизации</text><ellipse cx="112" cy="120.3281" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="117.5" y="125.1914">выбор справочников</text><ellipse cx="112" cy="135.4219" fill="#000000" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="271" x="117.5" y="140.2852">установка параметов для каждого справочника</text><rect fill="#000000" height="3.5" style="stroke: #000000; stroke-width: 0.0;" width="3.5" x="123.5" y="150.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="128.5" y="155.3789">метка времени</text><rect fill="#000000" height="3.5" style="stroke: #000000; stroke-width: 0.0;" width="3.5" x="123.5" y="165.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="171" x="128.5" y="170.4727">количество объектов в пакете</text><rect fill="#FEFECE" filter="url(#fp3fr8eu9s207)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="180.5" y="258.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="114" x="190.5" y="280.6602">Выбор справочника</text><rect fill="#FEFECE" filter="url(#fp3fr8eu9s207)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="184" y="368.3906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="194" y="390.8477">Получение данных</text><path d="M21,470.4033 L21,545.8096 A0,0 0 0 0 21,545.8096 L160,545.8096 A0,0 0 0 0 160,545.8096 L160,512.1064 L180,508.1064 L160,504.1064 L160,480.4033 L150,470.4033 L21,470.4033 A0,0 0 0 0 21,470.4033 " fill="#FBFB77" filter="url(#fp3fr8eu9s207)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M150,470.4033 L150,480.4033 L160,480.4033 L150,470.4033 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="27" y="488.8984">Для каждого</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="27" y="505.25">справочника</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="27" y="521.6016">определен свой</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="27" y="537.9531">алгоритм обработки</text><rect fill="#FEFECE" filter="url(#fp3fr8eu9s207)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="180" y="490.5596"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="115" x="190" y="513.0166">Обработать данные</text><path d="M10,565.1338 L10,624.1885 A0,0 0 0 0 10,624.1885 L147,624.1885 A0,0 0 0 0 147,624.1885 L147,598.6611 L167,594.6611 L147,590.6611 L147,575.1338 L137,565.1338 L10,565.1338 A0,0 0 0 0 10,565.1338 " fill="#FBFB77" filter="url(#fp3fr8eu9s207)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M137,565.1338 L137,575.1338 L147,575.1338 L137,565.1338 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="16" y="583.6289">Приходит из НСИ и</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="16" y="599.9805">используется при</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="16" y="616.332">запросе данных</text><rect fill="#FEFECE" filter="url(#fp3fr8eu9s207)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="161" x="167" y="577.1143"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="177" y="599.5713">Сдвинуть метку времени</text><polygon fill="#FEFECE" filter="url(#fp3fr8eu9s207)" points="212,423.4844,283,423.4844,295,435.4844,283,447.4844,212,447.4844,200,435.4844,212,423.4844" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="251.5" y="458.9033">Да</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="212" y="439.9854">Есть данные?</text><polygon fill="#FEFECE" filter="url(#fp3fr8eu9s207)" points="247.5,644.1885,259.5,656.1885,247.5,668.1885,235.5,656.1885,247.5,644.1885" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fp3fr8eu9s207)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="343" x="76" y="313.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="323" x="86" y="335.7539">Формирование soap-запроса получения данных из НСИ</text><polygon fill="#FEFECE" filter="url(#fp3fr8eu9s207)" points="212,688.1885,283,688.1885,295,700.1885,283,712.1885,212,712.1885,200,700.1885,212,688.1885" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="212" y="704.6895">Есть данные?</text><rect fill="#FEFECE" filter="url(#fp3fr8eu9s207)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="322" x="86.5" y="203.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="302" x="96.5" y="225.5664">Инициализация цикла по выбранным справочникам</text><polygon fill="#FEFECE" filter="url(#fp3fr8eu9s207)" points="186.5,732.1885,308.5,732.1885,320.5,744.1885,308.5,756.1885,186.5,756.1885,174.5,744.1885,186.5,732.1885" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="186.5" y="748.6895">Есть еще справочники?</text><ellipse cx="247.5" cy="787.1885" fill="#FFFFFF" filter="url(#fp3fr8eu9s207)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="247.5" cy="787.1885" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.5" x2="247.5" y1="67.6406" y2="87.6406"/><polygon fill="#A80036" points="243.5,77.6406,247.5,87.6406,251.5,77.6406,247.5,81.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.5" x2="247.5" y1="525.6533" y2="577.1143"/><polygon fill="#A80036" points="243.5,567.1143,247.5,577.1143,251.5,567.1143,247.5,571.1143" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.5" x2="247.5" y1="447.4844" y2="490.5596"/><polygon fill="#A80036" points="243.5,480.5596,247.5,490.5596,251.5,480.5596,247.5,484.5596" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="295" x2="338" y1="435.4844" y2="435.4844"/><polygon fill="#A80036" points="334,545.1338,338,555.1338,342,545.1338,338,549.1338" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="338" x2="338" y1="435.4844" y2="656.1885"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="338" x2="259.5" y1="656.1885" y2="656.1885"/><polygon fill="#A80036" points="269.5,652.1885,259.5,656.1885,269.5,660.1885,265.5,656.1885" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.5" x2="247.5" y1="612.208" y2="644.1885"/><polygon fill="#A80036" points="243.5,634.1885,247.5,644.1885,251.5,634.1885,247.5,638.1885" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.5" x2="247.5" y1="403.4844" y2="423.4844"/><polygon fill="#A80036" points="243.5,413.4844,247.5,423.4844,251.5,413.4844,247.5,417.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.5" x2="247.5" y1="348.3906" y2="368.3906"/><polygon fill="#A80036" points="243.5,358.3906,247.5,368.3906,251.5,358.3906,247.5,362.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="295" x2="431" y1="700.1885" y2="700.1885"/><polygon fill="#A80036" points="427,527.3135,431,517.3135,435,527.3135,431,523.3135" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="431" x2="431" y1="330.8438" y2="700.1885"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="431" x2="419" y1="330.8438" y2="330.8438"/><polygon fill="#A80036" points="429,326.8438,419,330.8438,429,334.8438,425,330.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.5" x2="247.5" y1="668.1885" y2="688.1885"/><polygon fill="#A80036" points="243.5,678.1885,247.5,688.1885,251.5,678.1885,247.5,682.1885" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.5" x2="247.5" y1="293.2969" y2="313.2969"/><polygon fill="#A80036" points="243.5,303.2969,247.5,313.2969,251.5,303.2969,247.5,307.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.5" x2="247.5" y1="238.2031" y2="258.2031"/><polygon fill="#A80036" points="243.5,248.2031,247.5,258.2031,251.5,248.2031,247.5,252.2031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="320.5" x2="449" y1="744.1885" y2="744.1885"/><polygon fill="#A80036" points="445,486.7197,449,476.7197,453,486.7197,449,482.7197" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="449" x2="449" y1="220.6563" y2="744.1885"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="449" x2="408.5" y1="220.6563" y2="220.6563"/><polygon fill="#A80036" points="418.5,216.6563,408.5,220.6563,418.5,224.6563,414.5,220.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.5" x2="247.5" y1="712.1885" y2="732.1885"/><polygon fill="#A80036" points="243.5,722.1885,247.5,732.1885,251.5,722.1885,247.5,726.1885" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.5" x2="247.5" y1="183.1094" y2="203.1094"/><polygon fill="#A80036" points="243.5,193.1094,247.5,203.1094,251.5,193.1094,247.5,197.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.5" x2="247.5" y1="756.1885" y2="776.1885"/><polygon fill="#A80036" points="243.5,766.1885,247.5,776.1885,251.5,766.1885,247.5,770.1885" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
start
skinparam titleBorderRoundCorner 14
skinparam titleBorderColor red
skinparam titleBackgroundColor Moccasin
title **Алгоритм синхронизации с НСИ**
:Формирование параметров синхронизации
* выбор справочников
* установка параметов для каждого справочника
**  метка времени
**  количество объектов в пакете;
repeat :Инициализация цикла по выбранным справочникам
:Выбор справочника;
repeat :Формирование soap-запроса получения данных из НСИ 
:Получение данных;
if (Есть данные?) then (Да)
  :Обработать данные;
note left
Для каждого 
справочника 
определен свой 
алгоритм обработки
end note
  :Сдвинуть метку времени;
note left
Приходит из НСИ и
используется при 
запросе данных
end note
endif
  repeat while (Есть данные?)
repeat while (Есть еще справочники?)
stop
@enduml

PlantUML version 1.2019.06(Fri May 24 20:10:25 MSK 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 17.0.1+12-LTS-39
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1251
Language: en
Country: US
--></g></svg>